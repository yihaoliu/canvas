{"dependencies":[{"name":"../images/bg.png"}],"generated":{"js":"\"use strict\";\n\nvar _bg = require(\"../images/bg.png\");\n\nvar _bg2 = _interopRequireDefault(_bg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bgImg = new Image();\nbgImg.src = _bg2.default;\nvar posMoniCtx; //画笔\nvar posMoniCanvas; //画布\nbgImg.onload = function (params) {\n  posMoniCanvas = document.getElementById(\"myCanvas\");\n  posMoniCtx = posMoniCanvas.getContext('2d');\n\n  var imgX = 0,\n      imgY = 0,\n      imgScale = 1,\n      minScale = 1,\n      maxScale = 8,\n      destWidth,\n      destHeight;\n\n  //chrome firefox浏览器兼容  滚轮事件\n  posMoniCanvas.onmousewheel = posMoniCanvas.onwheel = function (e) {\n\n    e.wheelDelta = e.wheelDelta ? e.wheelDelta : e.deltaY * -40;\n\n    if (e.wheelDelta > 0 && imgScale < maxScale) {\n      //放大              \n      imgScale *= 2;\n      imgX = imgX * 2 - mousePos.x;\n      imgY = imgY * 2 - mousePos.y;\n      drawAllComponent();\n    }\n\n    if (e.wheelDelta < 0 && imgScale > minScale) {\n      //缩小              \n      imgScale *= 0.5;\n      imgX = imgX * 0.5 + mousePos.x * 0.5;\n      imgY = imgY * 0.5 + mousePos.y * 0.5;\n      drawAllComponent();\n    }\n  };\n\n  function drawAllComponent() {\n\n    //清空面板\n    posMoniCtx.clearRect(0, 0, posMoniCanvas.width, posMoniCanvas.height);\n    //重绘背景图 \n    destWidth = posMoniCanvas.width * imgScale;\n    destHeight = posMoniCanvas.height * imgScale;\n    posMoniCtx.drawImage(bgImg, 0, 0, bgImg.width, bgImg.height, imgX, imgY, destWidth, destHeight);\n  }\n};"},"hash":"a6040526e9734df3e69c8cd7b97f9bcb"}